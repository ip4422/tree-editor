(this["webpackJsonptree-editor"]=this["webpackJsonptree-editor"]||[]).push([[0],{108:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var c,r=n(0),i=n(22),a=n.n(i),l=n(55),d=(n(108),n(128)),o=n(19),u=n(26),s=n(130),j=n(131),f=n(126),h=n(41),b=n(132),O=function(){return Object(l.b)()},v=l.c,y=n(68),p=n(21),x=(c={},Object(p.a)(c,"0",{title:"root title",parent:"",deleted:!1,key:"0"}),Object(p.a)(c,"0-0",{title:"child of root - 0",parent:"0",deleted:!1,key:"0-0"}),Object(p.a)(c,"0-0-0",{title:"0-0-0",parent:"0-0",deleted:!1,key:"0-0-0"}),Object(p.a)(c,"0-0-1",{title:"0-0-1",parent:"0-0",deleted:!1,key:"0-0-1"}),Object(p.a)(c,"0-0-0-0",{title:"0-0-0-0",parent:"0-0-1",deleted:!1,key:"0-0-0-0"}),Object(p.a)(c,"0-0-0-1",{title:"0-0-0-1",parent:"0-0-1",deleted:!1,key:"0-0-0-1"}),Object(p.a)(c,"0-0-0-0-0",{title:"0-0-0-0-0",parent:"0-0-0-1",deleted:!1,key:"0-0-0-0-0"}),Object(p.a)(c,"0-0-0-2",{title:"0-0-0-2",parent:"0-0-1",deleted:!1,key:"0-0-0-2"}),Object(p.a)(c,"0-0-2",{title:"0-0-2",parent:"0-0",deleted:!1,key:"0-0-2"}),Object(p.a)(c,"0-1",{title:"child of root - 1",parent:"0",deleted:!1,key:"0-1"}),Object(p.a)(c,"0-1-0",{title:"0-1-0",parent:"0-1",deleted:!1,key:"0-1-0"}),Object(p.a)(c,"0-1-1",{title:"0-1-1",parent:"0-1",deleted:!1,key:"0-1-1"}),Object(p.a)(c,"0-1-2",{title:"0-1-2",parent:"0-1",deleted:!1,key:"0-1-2"}),Object(p.a)(c,"0-2",{title:"child of root - 2",parent:"0",deleted:!1,key:"0-2"}),c),k=n(95),g=n(79),m=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(t.length){for(var c=null,r=0;null==c&&r<t.length;r++){if(t[r].key===n)return t[r];c=e(t[r].children,n)}return c}return null},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null;if(e.length)for(var n=function(n){if(-1===e.findIndex((function(t){return t.parent===e[n].key}))){var c=e.find((function(t){return t.key===e[n].parent}));if(c)return t=e[n],e.splice(n,1),c.children.push(t),{v:t}}},c=0;null==t&&c<e.length;c++){var r=n(c);if("object"===typeof r)return r.v}return t},E=function(e){var t=I(e),n=0,c=null;do{c=C(t),n++}while(null!=c&&n<1e3);return t},K=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=m(t,n.key);if(c){c.deleted=n.deleted;for(var r=0;r<c.children.length;r++)e(c.children,Object(o.a)(Object(o.a)({},c.children[r]),{},{deleted:n.deleted}))}},w=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=t.findIndex((function(e){return e.key===n.key}));-1!==c&&(t[c].deleted=n.deleted);for(var r=t.filter((function(e){return e.parent===n.key})),i=0;i<r.length;i++)r[i].deleted=n.deleted,e(t,r[i])},I=function e(t){var n=[];for(var c in t){var r,i=e(null===(r=t[c])||void 0===r?void 0:r.children);n.push.apply(n,[Object(o.a)(Object(o.a)({},t[c]),{},{children:[]})].concat(Object(k.a)(i)))}return n},S=function e(t,n){var c=[];for(var r in t)if(t[r].parent===n){var i=e(t,r);c.push(Object(o.a)(Object(o.a)({},t[r]),{children:i}))}return c},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=Object(o.a)({},e[0]);if(n.key){var c=S(e,n.key);t.push(Object(o.a)(Object(o.a)({},n),{},{children:c}))}return t},D=function(e){var t=[],n=I(e);for(var c in n)t.push(n[c].key);return t},N=function(e,t){for(var n=I(e),c=I(t),r=function(e){var t=c[e],r=n.findIndex((function(e){return e.key===t.key}));if(-1!==r)n[r]=Object(o.a)({},t),n[e].deleted&&w(n,t);else{var i=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=1e3,c=0,r=function(){var n="".concat(t,"-").concat(c);if(-1===e.findIndex((function(e){return e.key===n})))return{v:n};c++};c<n;){var i=r();if("object"===typeof i)return i.v}return"".concat(t,"-error")}(n,t.parent);n.push(Object(o.a)(Object(o.a)({},t),{},{key:i})),H(c,t.key,i),t.key=i}},i=0;i<c.length;i++)r(i);for(var a=0;a<n.length;a++)n[a].deleted&&w(n,n[a]);for(var l=E(n),d=[],u=0;u<c.length;u++)d.push(c[u].key);return[l,E(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],c=function(c){var r=e.find((function(e){return e.key===t[c]}));r&&n.push(Object(o.a)({},r))},r=0;r<t.length;r++)c(r);return n}(n,d))]},H=function(e,t,n){for(var c=0;c<e.length;c++)e[c].parent===t&&(e[c].parent=n)},J={items:A(x),cache:[],cacheExpandedKeys:[],itemsExpandedKeys:D(A(x))},T=Object(y.b)({name:"public-repo-show/repos",initialState:J,reducers:{add:function(e,t){e.cache=t.payload,e.cacheExpandedKeys=D(t.payload)},remove:function(e,t){e.cache=t.payload},alter:function(e,t){e.cache=t.payload},apply:function(e,t){e.items=t.payload.dbItems,e.cache=t.payload.cache,e.cacheExpandedKeys=D(t.payload.cache),e.itemsExpandedKeys=D(t.payload.dbItems)},reset:function(e){e.items=A(x),e.cache=[],e.cacheExpandedKeys=[],e.itemsExpandedKeys=D(A(x))}}}),W=T.actions.reset,B=function(e){return e.tree.cache},F=function(e){return function(t,n){var c=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=I(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);-1===t.findIndex((function(t){return t.key===e.key}))&&t.push(e);for(var n=0;n<t.length;n++)t[n].deleted&&w(t,t[n]);return E(t)}(B(n()),e);t(T.actions.add(c))}},M=function(e){return function(t,n){var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(g.cloneDeep)(e);return t.deleted=!t.deleted,K(n,t),n}(B(n()),e);t(T.actions.remove(c))}},R=function(e){return function(t,n){var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(g.cloneDeep)(e),c=m(n,t.key);return c&&(c.title=t.title),n}(B(n()),e);t(T.actions.alter(c))}},q=T.reducer,z=n(7),G=function(){var e=Object(r.useState)({}),t=Object(u.a)(e,2),n=t[0],c=t[1],i=v((function(e){return e.tree.items})),a=v((function(e){return e.tree.itemsExpandedKeys})),l=O();return Object(z.jsx)("div",{style:{minWidth:"350px"},children:Object(z.jsxs)(s.a,{gutter:16,wrap:!1,align:"middle",children:[Object(z.jsx)(j.a,{children:Object(z.jsx)(h.a,{onClick:function(){n.key&&l(F(n))},children:"<<<"})}),Object(z.jsx)(j.a,{children:Object(z.jsx)(f.a,{defaultExpandAll:!0,checkStrictly:!0,showIcon:!0,icon:function(e){return e.data.deleted&&Object(z.jsx)(b.a,{style:{color:"red"}})},expandedKeys:a,onSelect:function(e,t){t.selectedNodes.length?c(Object(o.a)(Object(o.a)({},t.selectedNodes[0]),{},{children:[]})):c({})},selectedKeys:[n.key],treeData:i})})]})})},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialOpen,n=void 0!==t&&t,c=Object(r.useState)(n),i=Object(u.a)(c,2),a=i[0],l=i[1],d=function(){l(!0)},o=function(){l(!1)},s=function(){l(!a)};return[a,s,d,o]},P=n(129),Q=n(127),U=function(e){var t=e.visible,n=e.title,c=e.item,i=e.onOk,a=e.onCancel,l=Object(r.useState)(c.title),d=Object(u.a)(l,2),s=d[0],j=d[1];Object(r.useEffect)((function(){j(c.title)}),[c]);return Object(z.jsx)(P.a,{title:n,destroyOnClose:!0,visible:t,onOk:function(){i(Object(o.a)(Object(o.a)({},c),{},{title:s})),j("")},onCancel:function(){a()},maskClosable:!1,children:Object(z.jsx)(Q.a,{onChange:function(e){j(e.target.value)},value:s})})},V=function(){var e=v((function(e){return e.tree.cache||[]})),t=v((function(e){return e.tree.cacheExpandedKeys})),n=Object(r.useState)({}),c=Object(u.a)(n,2),i=c[0],a=c[1],l=Object(r.useState)({}),d=Object(u.a)(l,2),y=d[0],p=d[1],x=L(),k=Object(u.a)(x,2),g=k[0],C=k[1],E=L(),K=Object(u.a)(E,2),w=K[0],I=K[1],S=O();Object(r.useEffect)((function(){if(i.key){var t=m(e,i.key);if(a(Object(o.a)(Object(o.a)({},t||{}),{},{children:[]})),t){var n="".concat(t.key,"-0-").concat((null===t||void 0===t?void 0:t.children)?null===t||void 0===t?void 0:t.children.length:0),c={key:n,title:n,parent:t.key,deleted:!1,children:[]};p(c)}}else p({})}),[e,i.key]);return Object(z.jsxs)("div",{children:[Object(z.jsxs)(s.a,{gutter:16,wrap:!1,children:[Object(z.jsx)(j.a,{children:Object(z.jsx)("div",{style:{minWidth:"350px",minHeight:"400px"},children:Object(z.jsx)(f.a,{showIcon:!0,icon:function(e){return e.data.deleted&&Object(z.jsx)(b.a,{style:{color:"red"}})},expandedKeys:t,onSelect:function(e,t){t.selectedNodes.length?a(t.selectedNodes[0]):a({})},selectedKeys:[i.key],treeData:e})})}),Object(z.jsx)(j.a,{children:Object(z.jsx)(G,{})})]}),Object(z.jsx)("div",{style:{marginTop:"20px"},children:Object(z.jsxs)(s.a,{gutter:8,wrap:!1,children:[Object(z.jsxs)(j.a,{children:[Object(z.jsx)(U,{visible:g,title:"Adding new item for parent: ".concat(i.title),item:y,onOk:function(e){S(F(e)),C()},onCancel:C}),Object(z.jsx)(h.a,{disabled:!i.key||i.deleted,onClick:C,children:"+"})]}),Object(z.jsx)(j.a,{children:Object(z.jsx)(h.a,{disabled:!i.key,onClick:function(){i.key&&S(M(i))},children:"-"})}),Object(z.jsxs)(j.a,{children:[Object(z.jsx)(U,{visible:w,title:"Altering item: ".concat(i.title),item:i,onOk:function(e){e.key&&S(R(e)),I()},onCancel:I}),Object(z.jsx)(h.a,{disabled:!i.key||i.deleted,onClick:I,children:"a"})]}),Object(z.jsx)(j.a,{span:2}),Object(z.jsx)(j.a,{children:Object(z.jsx)(h.a,{onClick:function(){S((function(e,t){var n=B(t()),c=t().tree.items,r=N(c,n),i=Object(u.a)(r,2),a=i[0],l=i[1];e(T.actions.apply({dbItems:a,cache:l}))}))},children:"Apply"})}),Object(z.jsx)(j.a,{children:Object(z.jsx)(h.a,{onClick:function(){S(W())},children:"Reset"})})]})})]})},X=function(){return Object(z.jsx)("div",{children:Object(z.jsx)(V,{})})};function Y(){return Object(z.jsxs)(d.a,{style:{minHeight:"100vh"},children:[Object(z.jsx)(d.a.Header,{style:{color:"white",textAlign:"center"},children:"Tree editor"}),Object(z.jsx)(d.a.Content,{style:{padding:"20px 50px"},children:Object(z.jsx)(X,{})}),Object(z.jsx)(d.a.Footer,{style:{textAlign:"center",position:"sticky",bottom:"0"},children:"Manipulation tree elements"})]})}var Z=Object(y.a)({reducer:{tree:q}});n(123);a.a.render(Object(z.jsx)(l.a,{store:Z,children:Object(z.jsx)(Y,{})}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.16c2bd20.chunk.js.map